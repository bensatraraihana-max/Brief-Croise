<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="WorkSphere - Application de gestion visuelle et interactive du personnel"
    />
    <meta
      name="keywords"
      content="gestion personnel, plan √©tage, RH, WorkSphere"
    />
    <meta name="author" content="WorkSphere" />
    <title>WorkSphere - Gestion du Personnel</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header>
        <div class="header-left">
          <h1>üè¢ WorkSphere</h1>
          <p class="subtitle">Gestion Interactive du Personnel</p>
        </div>
        <div class="stats">
          <div class="stat-item">
            <span class="stat-icon">üë•</span>
            <div class="stat-info">
              <span class="stat-value" id="totalEmployees">0</span>
              <span class="stat-label">Employ√©s</span>
            </div>
          </div>
          <div class="stat-item">
            <span class="stat-icon">üìç</span>
            <div class="stat-info">
              <span class="stat-value" id="assignedCount">0</span>
              <span class="stat-label">Assign√©s</span>
            </div>
          </div>
        </div>
      </header>

      <div class="main-content">
        <!-- Sidebar -->
        <aside class="sidebar">
          <div class="sidebar-header">
            <h2>üìã Personnel Non Assign√©</h2>
            <span class="badge" id="unassignedBadge">0</span>
          </div>

          <button class="add-worker-btn" onclick="openAddModal()">
            <span>‚ûï</span>
            Ajouter un Employ√©
          </button>

          <!-- Search & Filters -->
          <div class="search-section">
            <div class="search-box-wrapper">
              <span class="search-icon">üîç</span>
              <input
                type="text"
                class="search-box"
                id="searchBox"
                placeholder="Rechercher par nom ou r√¥le..."
                oninput="filterEmployees()"
              />
            </div>

            <div class="filter-buttons">
              <button
                class="filter-btn active"
                onclick="filterByRole('', this)"
              >
                Tous
              </button>
              <button
                class="filter-btn"
                onclick="filterByRole('R√©ceptionniste', this)"
              >
                R√©ception
              </button>
              <button
                class="filter-btn"
                onclick="filterByRole('Technicien IT', this)"
              >
                IT
              </button>
              <button
                class="filter-btn"
                onclick="filterByRole('Agent de s√©curit√©', this)"
              >
                S√©curit√©
              </button>
              <button
                class="filter-btn"
                onclick="filterByRole('Manager', this)"
              >
                Manager
              </button>
              <button
                class="filter-btn"
                onclick="filterByRole('Nettoyage', this)"
              >
                Nettoyage
              </button>
            </div>
          </div>

          <!-- Unassigned List -->
          <div class="unassigned-list" id="unassignedList">
            <!-- Dynamically populated -->
          </div>
        </aside>

        <!-- Floor Plan -->
        <main class="floor-plan">
          <div class="floor-plan-header">
            <h2>üèóÔ∏è Plan d'√âtage</h2>
            <div class="legend">
              <div class="legend-item">
                <div class="legend-color" style="background: #ff6b6b"></div>
                <span>Zone obligatoire vide</span>
              </div>
              <div class="legend-item">
                <div class="legend-color" style="background: #51cf66"></div>
                <span>Zone disponible</span>
              </div>
            </div>
          </div>

          <!-- Zones Grid with Background -->
          <div class="zones-wrapper">
            <div class="zones-background">
              <img
                src="preview.webp"
                alt="Plan d'√©tage"
                class="floor-plan-image"
              />
            </div>
            <div class="zones-grid" id="zonesGrid">
              <!-- Dynamically populated -->
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Add Employee Modal -->
    <div class="modal" id="addModal">
      <div class="modal-overlay" onclick="closeAddModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>‚ûï Ajouter un Employ√©</h2>
          <button
            class="close-modal"
            onclick="closeAddModal()"
            aria-label="Fermer"
          >
            √ó
          </button>
        </div>

        <div class="modal-body">
          <!-- Photo Preview -->
          <div class="photo-section">
            <img
              id="photoPreview"
              class="photo-preview"
              src="https://via.placeholder.com/150/667eea/ffffff?text=Photo"
              alt="Aper√ßu photo"
            />
            <div class="form-group">
              <label for="photoUrl">Photo de profil (URL)</label>
              <input
                type="url"
                id="photoUrl"
                placeholder="https://exemple.com/photo.jpg"
                oninput="previewPhoto()"
              />
            </div>
          </div>

          <!-- Employee Info -->
          <div class="form-group">
            <label for="employeeName">Nom complet *</label>
            <input
              type="text"
              id="employeeName"
              placeholder="Ex: Jean Dupont"
              required
            />
          </div>

          <div class="form-group">
            <label for="employeeRole">R√¥le *</label>
            <select id="employeeRole" required>
              <option value="">S√©lectionner un r√¥le</option>
              <option value="R√©ceptionniste">R√©ceptionniste</option>
              <option value="Technicien IT">Technicien IT</option>
              <option value="Agent de s√©curit√©">Agent de s√©curit√©</option>
              <option value="Manager">Manager</option>
              <option value="Nettoyage">Nettoyage</option>
              <option value="Employ√© g√©n√©ral">Employ√© g√©n√©ral</option>
            </select>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="employeeEmail">Email</label>
              <input
                type="email"
                id="employeeEmail"
                placeholder="email@exemple.com"
              />
            </div>

            <div class="form-group">
              <label for="employeePhone">T√©l√©phone</label>
              <input
                type="tel"
                id="employeePhone"
                placeholder="+212 6XX XXX XXX"
              />
            </div>
          </div>

          <!-- Experiences -->
          <div class="form-group">
            <label>Exp√©riences professionnelles</label>
            <div id="experiencesList" class="experiences-container">
              <!-- Dynamically added -->
            </div>
            <button
              type="button"
              class="add-exp-btn"
              onclick="addExperienceField()"
            >
              + Ajouter une exp√©rience
            </button>
          </div>

          <button class="submit-btn" onclick="addEmployee()">
            ‚úÖ Ajouter l'Employ√©
          </button>
        </div>
      </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal profile-modal" id="profileModal">
      <div class="modal-overlay" onclick="closeProfileModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>üë§ Profil Employ√©</h2>
          <button
            class="close-modal"
            onclick="closeProfileModal()"
            aria-label="Fermer"
          >
            √ó
          </button>
        </div>

        <div class="modal-body">
          <div class="profile-header">
            <img
              id="profileAvatar"
              class="profile-avatar"
              src=""
              alt="Avatar"
            />
            <h3 id="profileName"></h3>
            <p id="profileRole" class="profile-role-badge"></p>
          </div>

          <div class="profile-info" id="profileDetails">
            <!-- Dynamically populated -->
          </div>

          <div class="profile-actions">
            <button
              class="btn btn-danger"
              onclick="deleteEmployeeFromProfile()"
            >
              üóëÔ∏è Supprimer l'employ√©
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Select Employee Modal -->
    <div class="modal" id="selectModal">
      <div class="modal-overlay" onclick="closeSelectModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>S√©lectionner un Employ√©</h2>
          <button
            class="close-modal"
            onclick="closeSelectModal()"
            aria-label="Fermer"
          >
            √ó
          </button>
        </div>

        <div class="modal-body">
          <div class="select-list" id="selectList">
            <!-- Dynamically populated -->
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
      <span class="toast-icon" id="toastIcon"></span>
      <span class="toast-message" id="toastMessage"></span>
    </div>

    <script src="script.js"></script>
  </body>
</html>
